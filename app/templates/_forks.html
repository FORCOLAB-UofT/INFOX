<ul class="forks">

    <table class="table">
        <colgroup>
            <col style="width:20%">
            <col style="width:5%">
            <col style>
            <col style>
            <col style>
            <col style="width:10%">
            <col style="width:10%">
        </colgroup>
        <thead>
            <tr>
                <th>Name</th>
                <th>Total Changed File</th>
                <th>Total Changed Line</th>
                <th>Key Words(Counter)</th>
                <th>Key Words(IF-IDF)</th>
                <th>Last Committed</th>
                <th>Created At</th>
            </tr>
        </thead>
        <tbody>
            {% for fork in forks %}
            <tr>
                <td> <a href="{{ "https://github.com/" + fork.fork_name + "/compare" }}"> {{ fork.fork_name }} </a> </td>
                <td>
                        <div class="dropdown">
                            <button class="btn btn-default dropdown-toggle" type="button" id="fork_chanegd_file_list" data-toggle="dropdown" aria-haspopup="true" aria-expanded="true">
                                {{ fork.total_changed_file_number }}
                                <span class="caret"></span>
                            </button>
                            <ul class="dropdown-menu" aria-labelledby="fork_chanegd_file_list">
                                {% for file_name in fork.file_list %}
                                <li>
                                    {% if marked_files %}
                                        {% if (fork.fork_name, file_name) in marked_files %}
                                            <a class="label-success" href="{{ all_changed_files[(fork.fork_name, file_name)] }}">
                                                {{ file_name }}
                                            </a>
                                        {% else %}
                                            <a class="label-default" href='{{ all_changed_files[(fork.fork_name, file_name)] }}'>
                                                {{ file_name }}
                                            </a>
                                        {% endif %}
                                    {% else %}
                                        <a href="{{ all_changed_files[(fork.fork_name, file_name)] }}">
                                            {{ file_name }}
                                        </a>
                                    {% endif %}                                
                                </li>
                                {% endfor %}
                            </ul>
                        </div>
                </td>
                <td>{{ fork.total_changed_line_number }}</td>
                <td>{{ fork.key_words[:5] }}</td>
                {% if fork.key_words_by_tfidf %}
                    <td>{{ fork.key_words_by_tfidf[:5] }}</td>
                {% else %}
                    {% if fork.key_words_by_tdidf[:5] %}
                        <td>{{ fork.key_words_by_tdidf[:5] }}</td>
                    {% else %}
                        <td>{{ "" }}</td>
                    {% endif %}
                {% endif %}
                <!--
                <td>{{ fork.last_committed_time.strftime('%Y-%m-%d %H:%M:%S') }}</td>
                <td>{{ fork.created_time.strftime('%Y-%m-%d %H:%M:%S') }}</td>
                !-->
                <td>{{ fork.last_committed_time.strftime('%Y-%m-%d') }}</td>
                <td>{{ fork.created_time.strftime('%Y-%m-%d') }}</td>
            </tr>
            {% endfor %}
        </tbody>
    </table>

</ul>
